@model TestTriangleHOA.Web.Models.QueryTicketModel
<section class="content-header">
    <h1>
        Ticket
    </h1>
</section>
<!-- Main content -->
<section class="content container-fluid">
    <!-- Horizontal Form -->
    <div class="box box-info">
        <div class="box-header with-border">
            <h3 class="box-title">Create Ticket</h3>
        </div>
        <!-- /.box-header -->
        <!-- form start -->
        <form class="form-horizontal" method="post" action="~/Ticket/CreateTicket">
            @Html.HiddenFor(m => m.CreatedOn)           
            @Html.HiddenFor(m => m.Status)
            <div class="box-body">
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">* Customer</label>
                    <div class="col-sm-10">
                        @Html.DropDownListFor(d => d.CustomerId,  new SelectList(@ViewBag.Customers, "Value", "Text"), "Select customer", new { @class="form-control" })
                        @Html.ValidationMessageFor(m => m.CustomerId, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">* Subject</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="Subject" placeholder="Subject" value="@Model.Subject">
                        @Html.ValidationMessageFor(m => m.Subject, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">* Category</label>
                    <div class="col-sm-10">
                        <select id="ddlCategory" name="Category" class="form-control">
                            <option value="Category 1">Category 1</option>
                            <option value="Category 2">Category 2</option>
                            <option value="Category 3">Category 3</option>
                        </select>
                        @Html.ValidationMessageFor(m => m.Category, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">* Description</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" name="Description" placeholder="Description" value="@Model.Description">@Model.Description</textarea>
                        @Html.ValidationMessageFor(m => m.Description, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">* Status</label>
                    <div class="col-sm-10">
                        <select id="ddlstatus" name="status" class="form-control" disabled>
                            <option value="1" selected="selected">New</option>
                            <option value="2">In-Progress</option>
                            <option value="3">Closed</option>
                        </select>
                        @Html.ValidationMessageFor(m => m.Status, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Issue startedOn</label>
                    <div class="col-sm-10">
                        <input type="date" class="form-control" name="IssueStartedOn" value="@Model.IssueStartedOn">
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">CreatedOn</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="CreatedOn" disabled value="@Model.CreatedOn">
                    </div>
                </div>

            </div>
            <!-- /.box-body -->
            <div class="box-footer">
                <a class="btn btn-default" href="~/Ticket/?customerId=@Model.CustomerId">Cancel</a>
                <button type="submit" class="btn btn-info pull-right">Create</button>
            </div>
            <!-- /.box-footer -->
        </form>
    </div>
    <!-- /.box -->
</section>
<script type="text/javascript">
    window.onload = function () {        
         document.getElementById("ddlCategory").value = '@Model.Category';
    }
</script>